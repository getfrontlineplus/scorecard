(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{3524:function(e,t,n){"use strict";n.d(t,{K:function(){return r},C:function(){return i}});var r=function(e,t,n){var r="string"===typeof e?parseInt(e,10):e;return r<70?0:Number.isNaN(r)?-1:(r+(n.weighted&&t?10:0)-60)/10},i=function(e,t,n){var i=0,s=0;return e.forEach((function(e){var c,o=r(null!==(c=e.grades[t])&&void 0!==c?c:"NG",e.weighted,n);-1!==o&&(i+=o*e.credit,s+=e.credit)})),0===s?-1:Math.round(i/s*100)/100}},7941:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return P},default:function(){return k}});var r=n(7294),i=n(2962),s=n(1243),c=n(2809),o=n(5120),a=n(4992),l=n(5177),u=n(8454),d=n(5863),f=n(3524),h=n(2590),p=n(5893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=e.appData,n=e.setAppData,i=e.editingEnabled,c=(0,r.useState)(1),g=c[0],v=c[1],x=function(e,t){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"-ml-3 flex flex-row flex-nowrap justify-between",children:(0,p.jsx)(o.Z,{onClick:function(){v((function(e){return Math.abs(e)===t+1?-1*e:t+1}))},children:e})})})},j=(0,r.useState)(-1),w=j[0],b=j[1],y=(0,r.useState)(-1),O=y[0],N=y[1],P=r.createRef(),k=function(){var e,t;N(null!==(e=null===(t=P.current)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:-1)};(0,r.useEffect)((function(){var e,t;N(null!==(e=null===(t=P.current)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:-1)}),[P]);var E=t.courses,C=t.selectedGradingPeriod,S=t.formula,_=[],D=[],Z=[],G=[],A=[],M=[],W=(0,f.C)(E,C,S);return E.forEach((function(e,r){var c,o=Array.from(E);o.splice(r,1),_.push((0,p.jsx)(u.Z,{editingEnabled:i,setName:function(i){n(m(m({},t),{},{courses:[].concat((0,s.Z)(o.slice(0,r)),[m(m({},e),{},{name:i})],(0,s.Z)(o.slice(r)))}))},children:e.name})),D.push((0,p.jsx)(a.Z,{editingEnabled:i,checked:e.weighted,onClick:function(i){n(m(m({},t),{},{courses:[].concat((0,s.Z)(o.slice(0,r)),[m(m({},e),{},{weighted:i})],(0,s.Z)(o.slice(r)))}))}})),Z.push((0,p.jsx)("div",{className:"w-full",children:(0,p.jsx)(l.Z,{min:0,max:10,setNumber:function(i){n(m(m({},t),{},{courses:[].concat((0,s.Z)(o.slice(0,r)),[m(m({},e),{},{credit:i})],(0,s.Z)(o.slice(r)))}))},editingEnabled:i,children:e.credit})}));var d=null!==(c=e.grades[C])&&void 0!==c?c:"NG";G.push(d),A.push((0,f.K)(d,e.weighted,S)),M.push(Math.round(100*(W-(0,f.C)(o,C,S)))/100)})),(0,p.jsx)("div",{children:(0,p.jsx)("div",{className:"_gpa-analysis-col-container flex w-fit group-1",ref:P,children:function(e,t){var n=Math.abs(t)-1,r=t>0?1:-1,i=(0,h.p4)((0,h.p4)(e).sort((function(e,t){var i=e[n],s=t[n];return null==i||null==s?null==i&&null==s?0:null==i?-1*r:1*r:i>s?1*r:i<s?-1*r:0})));return e.map((function(e,t){var n;return null!==(n=i[t])&&void 0!==n?n:[]}))}([_,D,Z,G,A,M],g).map((function(e,t,n){var r;return(0,p.jsx)(d.Z,{outerBorders:!0,cells:e.map((function(e,t){return{type:"VALUE",element:(0,p.jsx)("span",{className:"h-10 whitespace-nowrap flex items-center",children:e},t)}})),setComponentShowing:function(){},getSetComponentShowing:function(){return function(){}},header:x(null!==(r=["Course","Weighted","Credit","Grade","Points","Effect on GPA"][t])&&void 0!==r?r:"",t),hoveredRow:w,onResize:k,type:0===t?"COURSE_NAME":"OTHER_FIELD",amFirstColumn:0===t,amLastColumn:t===n.length-1,onCellMouseOver:function(e){b(e)},clickable:!i,deltaSnapPoint:700-O,forceShow:!0},t)}))})})}function x(e){var t=e.gpa,n=e.weighted,i=(0,r.useState)(1),s=i[0],c=i[1];return(0,r.useEffect)((function(){c(1-(t-1)/(n?5:4))}),[t,n]),(0,p.jsxs)("svg",{height:"30",width:"30",viewBox:"0 0 60 60",children:[(0,p.jsx)("circle",{cx:"30",cy:"30",r:"20",fill:"none",className:"stroke-theme-100 dark:stroke-night-250",strokeWidth:"10",strokeMiterlimit:1}),(0,p.jsx)("circle",{cx:"30",cy:"30",r:"20",fill:"none",className:"stroke-theme-200 transition-all duration-1000",strokeWidth:"10",strokeDasharray:125.6636,strokeDashoffset:125.6636*s+7,strokeMiterlimit:1,strokeLinecap:"round"}),"Sorry, your browser does not support inline SVG."]})}function j(e){var t=e.gpa,n=e.weighted;return(0,p.jsxs)("div",{className:"_gpa-display",children:[(0,p.jsx)("p",{className:"text-4xl text-theme-200 font-semibold leading-none tracking-tight",children:t}),(0,p.jsxs)("div",{className:"flex items-center mt-3",children:[(0,p.jsx)(x,{gpa:t,weighted:n}),(0,p.jsx)("h3",{className:"text-day-400 my-0 ml-3 whitespace-nowrap",children:n?"Weighted GPA":"Unweighted GPA"})]})]})}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=e.courses,n=e.gradingPeriod,r=e.formula;return(0,p.jsxs)("div",{className:"_gpa-quick-stats bg-day-200 dark:bg-night-200 w-full leading-loose px-4 py-2 border-day-300 dark:border-night-300 border",children:[(0,p.jsx)("p",{className:"text-day-700 dark:text-night-700",children:"Quick Info"}),(0,p.jsxs)("div",{className:"text-day-400 dark:text-night-400",children:[(0,p.jsx)("p",{children:"".concat(r.weighted?"Unweighted":"Weighted"," GPA: ").concat((0,f.C)(t,n,b(b({},r),{},{weighted:!r.weighted})))}),(0,p.jsxs)("p",{children:["Weighted Classes:"," ","".concat(t.filter((function(e){return e.weighted})).length,"/").concat(t.length)]})]})]})}var O=n(7750),N=n(6423),P=!0;function k(){var e=(0,r.useContext)(N.R),t=e.appData,n=e.setAppData,s=t?(0,f.C)(t.courses,t.selectedGradingPeriod,t.formula):null,c=(0,r.useState)(!1),o=c[0],a=c[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(i.PB,{title:"Grade Point"}),t&&s?(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"use-responsive-width flex flex-row gap-20 items-center mt-5",children:[(0,p.jsx)(j,{gpa:s,weighted:t.formula.weighted}),(0,p.jsx)("div",{className:"w-full",children:(0,p.jsx)(y,{courses:t.courses,formula:t.formula,gradingPeriod:t.selectedGradingPeriod})})]}),(0,p.jsx)("div",{className:"responsive-scrollable",children:(0,p.jsxs)("div",{className:"transition-padding duration-300 ease-in-out ".concat(o?"z-50 absolute focus px-7 py-5 rounded-lg":""),children:[(0,p.jsx)(v,{appData:t,setAppData:n,editingEnabled:o}),(0,p.jsx)(O.Z,{editing:o,setEditing:a,textStart:"Edit Courses"})]})})]}):(0,p.jsx)(p.Fragment,{})]})}},1806:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/insights/gpa",function(){return n(7941)}])}},function(e){e.O(0,[44,774,888,179],(function(){return t=1806,e(e.s=t);var t}));var t=e.O();_N_E=t}]);